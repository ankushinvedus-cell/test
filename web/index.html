<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CloudSync Reader MVP</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="topbar">
      <h1>CloudSync Reader MVP</h1>
      <p>Read PDF/EPUB in your browser with local progress sync.</p>
    </header>

    <main class="layout">
      <aside class="panel library-panel">
        <h2>Library</h2>
        <label class="upload-btn" for="bookInput">+ Add PDF/EPUB</label>
        <input id="bookInput" type="file" accept=".pdf,.epub,application/pdf,application/epub+zip" multiple />
        <ul id="libraryList" class="library-list"></ul>
      </aside>

      <section class="panel reader-panel">
        <div id="emptyState" class="empty-state">
          <h2>No book selected</h2>
          <p>Upload a PDF or EPUB and open it from your library.</p>
        </div>

        <div id="readerShell" class="reader-shell hidden">
          <div class="reader-toolbar">
            <strong id="bookTitle">—</strong>
            <div id="pdfControls" class="controls hidden">
              <button id="pdfPrevBtn">◀ Prev</button>
              <span id="pdfPageInfo">Page 0 / 0</span>
              <button id="pdfNextBtn">Next ▶</button>
            </div>
            <div id="epubControls" class="controls hidden">
              <button id="epubPrevBtn">◀ Prev</button>
              <button id="epubNextBtn">Next ▶</button>
            </div>
          </div>

          <div id="pdfReader" class="pdf-reader hidden">
            <canvas id="pdfCanvas"></canvas>
          </div>

          <div id="epubReader" class="epub-reader hidden"></div>
        </div>
      </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.4.168/pdf.min.mjs" type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/epubjs/dist/epub.min.js"></script>
    <script type="module" src="app.js"></script>
  </body>
</html>
